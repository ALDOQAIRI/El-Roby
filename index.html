<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø±ÙˆØ¨ÙŠ | Ù„Ù„Ù…ØµÙ†Ø¹Ø§Øª ÙˆØ§Ù„Ù„Ø­ÙˆÙ…</title>

    <meta name="google-site-verification" content="M4AVPnmakVfGb3OU5CIqN--Dqi4C-6KYQn-MhFM0ymU" />

    <!-- SEO -->
    <meta name="description" content="Ù…Ù†ÙŠÙˆ Ø§Ù„Ø±ÙˆØ¨ÙŠ Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ù…ØµÙ†Ø¹Ø§Øª. Ø­ÙˆØ§ÙˆØ´ÙŠØŒ ÙƒÙØªØ©ØŒ Ø¨Ø±Ø¬Ø±ØŒ Ø³Ø¬Ù‚ØŒ ÙˆÙ„Ø­ÙˆÙ… Ø·Ø§Ø²Ø¬Ø©. Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ 24 Ø³Ø§Ø¹Ø©.">
    <meta name="keywords" content="Ø§Ù„Ø±ÙˆØ¨ÙŠ, Ø­ÙˆØ§ÙˆØ´ÙŠ, ÙƒÙØªØ©, Ù„Ø­ÙˆÙ…, Ø¨Ø±Ø¬Ø±, Ø³Ø¬Ù‚, ØªÙˆØµÙŠÙ„ Ø·Ù„Ø¨Ø§Øª, Ø¬Ø²Ø§Ø±Ø©">

    <link rel="icon" href="https://pps.whatsapp.net/v/t61.24694-24/491837277_975255798065507_888456427333343564_n.jpg?ccb=11-4&oh=01_Q5Aa3AGbSm6G-sE8jIgjSx6QlkI7NJYu9I2N-wkffkMFp-7qRA&oe=69317C7B&_nc_sid=5e03e0&_nc_cat=108" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Firebase & Excel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

    <style>
         :root {
            --primary: #c0392b;
            /* Ø£Ø­Ù…Ø± Ù…Ù„ÙƒÙŠ Ø¯Ø§ÙƒÙ† */
            --secondary: #d35400;
            /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ù†Ø§Ø±ÙŠ */
            --accent: #f1c40f;
            /* Ø°Ù‡Ø¨ÙŠ */
            --glass-bg: rgba(255, 255, 255, 0.92);
            /* Ø®Ù„ÙÙŠØ© Ø²Ø¬Ø§Ø¬ÙŠØ© */
            --glass-border: 1px solid rgba(255, 255, 255, 0.3);
            --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            /* Ø¸Ù„ Ø§Ù„Ø²Ø¬Ø§Ø¬ */
            --text-dark: #2c3e50;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Cairo', sans-serif;
            background-image: linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), url("https://pps.whatsapp.net/v/t61.24694-24/491837277_975255798065507_888456427333343564_n.jpg?ccb=11-4&oh=01_Q5Aa3AGbSm6G-sE8jIgjSx6QlkI7NJYu9I2N-wkffkMFp-7qRA&oe=69317C7B&_nc_sid=5e03e0&_nc_cat=108");
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: #333;
            min-height: 100vh;
        }
        /* Header Glass */
        
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 4px solid var(--primary);
        }
        
        .logo-text {
            font-weight: 900;
            font-size: 1.8rem;
            color: var(--text-dark);
            text-transform: uppercase;
        }
        
        .logo-text span {
            color: var(--primary);
        }
        
        .nav-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .nav-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            position: relative;
            color: var(--text-dark);
            transition: 0.3s;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .nav-btn:hover {
            color: var(--primary);
            transform: scale(1.1);
        }
        
        .badge {
            position: absolute;
            top: -5px;
            right: -8px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            padding: 4px 7px;
            font-size: 0.7rem;
            font-weight: bold;
            border: 2px solid white;
        }
        /* Slider */
        
        .hero-slider {
            height: 500px;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }
        
        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: 1s ease-in-out;
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .slide.active {
            opacity: 1;
        }
        
        .slide::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.8));
        }
        
        .slide-content {
            position: relative;
            z-index: 2;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            max-width: 800px;
        }
        
        .slide-content h2 {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 15px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .slide-content h2 span {
            color: var(--secondary);
        }
        
        .slide-content p {
            font-size: 1.5rem;
            color: #ddd;
            margin-bottom: 0;
        }
        /* Filters Glass */
        
        .sticky-filters {
            position: sticky;
            top: 80px;
            z-index: 900;
            padding: 15px 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .filters {
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 10px 30px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 800;
            font-family: inherit;
            transition: 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(192, 57, 43, 0.4);
        }
        /* Products Grid */
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            padding: 40px 5%;
        }
        /* Glass Card Style */
        
        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius: 20px;
            overflow: hidden;
            border: var(--glass-border);
            box-shadow: var(--shadow);
            transition: 0.4s;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
        }
        
        .offer-tag {
            position: absolute;
            top: 15px;
            left: 15px;
            background: linear-gradient(45deg, var(--secondary), #e74c3c);
            color: white;
            padding: 5px 15px;
            font-size: 0.9rem;
            border-radius: 20px;
            z-index: 5;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .img-wrapper {
            height: 240px;
            overflow: hidden;
            position: relative;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: 0.6s;
        }
        
        .card:hover .card-img {
            transform: scale(1.15) rotate(2deg);
        }
        
        .card-body {
            padding: 25px;
            text-align: center;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .card-title {
            font-weight: 900;
            font-size: 1.4rem;
            margin-bottom: 8px;
            color: var(--text-dark);
        }
        
        .card-desc {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .card-price {
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: 900;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(192, 57, 43, 0.1);
        }
        
        .btn {
            width: 100%;
            padding: 12px;
            border: none;
            background: var(--text-dark);
            color: white;
            border-radius: 12px;
            cursor: pointer;
            font-family: inherit;
            font-weight: bold;
            font-size: 1.1rem;
            transition: 0.3s;
            box-shadow: 0 5px 15px rgba(44, 62, 80, 0.3);
        }
        
        .btn:hover {
            background: var(--primary);
            transform: translateY(-3px);
        }
        
        .btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            opacity: 0.7;
        }
        /* Admin Panel Glass */
        
        .admin-panel {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            padding: 30px;
            margin: 40px auto;
            max-width: 1200px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.4);
            position: relative;
            z-index: 100;
        }
        
        .admin-form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-control {
            width: 100%;
            padding: 15px;
            border: 2px solid #eee;
            border-radius: 12px;
            font-family: inherit;
            font-size: 1rem;
            transition: 0.3s;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .table-responsive {
            overflow-x: auto;
            margin-top: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 900px;
            background: white;
        }
        
        th {
            background: var(--text-dark);
            color: white;
            padding: 18px;
            text-align: center;
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid #eee;
            text-align: center;
            font-weight: bold;
        }
        /* Modal Glass */
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(8px);
        }
        
        .modal-content {
            background: rgba(255, 255, 255, 0.98);
            padding: 40px;
            border-radius: 25px;
            width: 500px;
            max-width: 90%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            border: 1px solid white;
        }
        /* Footer */
        
        .glass-footer {
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 60px 20px;
            text-align: center;
            border-top: 6px solid var(--primary);
            position: relative;
            z-index: 10;
        }
    </style>
</head>

<body>

    <header>
        <div class="logo-text"><i class="fas fa-drumstick-bite" style="color:var(--primary)"></i> Ø§Ù„Ø±ÙˆØ¨ÙŠ <span>Ù„Ù„Ø­ÙˆÙ…</span></div>
        <div class="nav-actions">
            <!-- Ø²Ø± Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
            <a href="https://www.facebook.com/p/%D8%A7%D9%84%D8%B1%D9%88%D8%A8%D9%8A-ElRoby-100090268540909/" target="_blank" class="nav-btn" title="ØµÙØ­ØªÙ†Ø§ Ø¹Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒ">
                <i class="fab fa-facebook fa-lg" style="color:#1877F2;"></i>
            </a>

            <button class="nav-btn" onclick="openModal('cartModal')">
                <i class="fas fa-shopping-basket"></i> <span class="badge" id="cartCount">0</span>
            </button>
            <button class="nav-btn" onclick="openModal('loginModal')">
                <i class="fas fa-user-shield"></i>
            </button>
        </div>
    </header>

    <div class="hero-slider">
        <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1547592180-85f173990554?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');">
            <div class="slide-content">
                <h2>Ø£ØµÙ„ Ø§Ù„Ù„Ø­ÙˆÙ… <span>ÙˆØ§Ù„Ù…ØµÙ†Ø¹Ø§Øª</span></h2>
                <p>Ù…Ù† Ù…Ø²Ø§Ø±Ø¹Ù†Ø§ Ù„Ù…Ø·Ø¨Ø®Ùƒ Ù…Ø¨Ø§Ø´Ø±Ø©.. Ø¬ÙˆØ¯Ø© Ù„Ø§ ØªÙ‚Ø§Ø±Ù†</p>
            </div>
        </div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');">
            <div class="slide-content">
                <h2>Ù…Ø´ÙˆÙŠØ§Øª <span>Ø§Ù„Ø±ÙˆØ¨ÙŠ</span></h2>
                <p>ÙƒÙØªØ© ÙˆØ·Ø±Ø¨ ÙˆØ­ÙˆØ§ÙˆØ´ÙŠ.. Ø·Ø¹Ù… Ø²Ù…Ø§Ù† Ø§Ù„Ø£ØµÙ„ÙŠ</p>
            </div>
        </div>
        <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');">
            <div class="slide-content">
                <h2>Ø¨Ø±Ø¬Ø± ÙˆØ³Ø¬Ù‚ <span>Ø¨ÙŠØªÙŠ</span></h2>
                <p>Ø®Ù„Ø·Ø§Øª Ø®Ø§ØµØ© ÙˆØªÙˆØ§Ø¨Ù„ Ø´Ø±Ù‚ÙŠØ© Ù…Ù…ÙŠØ²Ø©</p>
            </div>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
    <div id="adminPanel" class="admin-panel">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:25px; border-bottom:2px solid #eee; padding-bottom:15px;">
            <h2 style="color:var(--text-dark)"><i class="fas fa-cogs"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
            <div>
                <button onclick="exportToExcel()" class="btn" style="width:auto; background:#27ae60; margin-left:10px;"><i class="fas fa-file-excel"></i> ØªØµØ¯ÙŠØ±</button>
                <button onclick="logout()" class="btn" style="width:auto; background:#c0392b;"><i class="fas fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬</button>
            </div>
        </div>

        <form id="productForm" onsubmit="handleProductSubmit(event)" style="background:#fff; padding:30px; border-radius:15px; box-shadow:0 5px 20px rgba(0,0,0,0.05);">
            <input type="hidden" id="pId">
            <h4 style="margin-bottom:20px; color:var(--primary);">Ø¥Ø¶Ø§ÙØ© / ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬</h4>

            <div class="admin-form-grid">
                <input type="text" id="pName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" class="form-control" required>
                <input type="number" id="pPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±" class="form-control" required>
                <input type="text" id="pCat" placeholder="Ø§Ù„Ù‚Ø³Ù… (Ù…Ø«Ø§Ù„: Ø­ÙˆØ§ÙˆØ´ÙŠ)" class="form-control" required>
                <input type="text" id="pImg" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" class="form-control">

                <select id="pOffer" class="form-control">
                    <option value="false">Ø³Ø¹Ø± Ø¹Ø§Ø¯ÙŠ</option>
                    <option value="true">Ø¹Ø±Ø¶ Ø®Ø§Øµ ğŸ”¥</option>
                </select>

                <select id="pStock" class="form-control">
                    <option value="true">Ù…ØªØ§Ø­ (Ù…ØªÙˆÙØ±)</option>
                    <option value="false">ØºÙŠØ± Ù…ØªØ§Ø­ (Ù†ÙØ°)</option>
                </select>

                <select id="pVisible" class="form-control">
                    <option value="true">Ù…Ø±Ø¦ÙŠ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡</option>
                    <option value="false">Ù…Ø®ÙÙŠ (Ù…Ø³ÙˆØ¯Ø©)</option>
                </select>
            </div>

            <textarea id="pDesc" rows="2" placeholder="Ø§Ù„ÙˆØµÙ..." class="form-control" style="margin-bottom:20px;"></textarea>

            <div style="display:flex; gap:10px;">
                <button type="submit" class="btn" id="saveBtn" style="background:var(--primary)">Ø­ÙØ¸</button>
                <button type="button" class="btn" onclick="resetForm()" style="background:#95a5a6; display:none;" id="cancelBtn">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </form>

        <div class="table-responsive">
            <table id="productsTable">
                <thead>
                    <tr>
                        <th>ØµÙˆØ±Ø©</th>
                        <th>Ø§Ù„Ø§Ø³Ù…</th>
                        <th>Ø§Ù„Ø³Ø¹Ø±</th>
                        <th>Ø§Ù„Ù‚Ø³Ù…</th>
                        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                        <th>Ø§Ù„ØªÙˆÙØ±</th>
                        <th>ØªØ­ÙƒÙ…</th>
                    </tr>
                </thead>
                <tbody id="adminTableBody"></tbody>
            </table>
        </div>
    </div>

    <div class="sticky-filters">
        <div class="filters" id="filtersContainer"></div>
    </div>

    <div class="products-grid" id="productsContainer">
        <!-- Ø³ØªØ¸Ù‡Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù‡Ù†Ø§ Ø¹Ù†Ø¯Ù…Ø§ ØªØ¶ÙŠÙÙ‡Ø§ -->
    </div>

    <div class="glass-footer">
        <i class="fas fa-motorcycle fa-4x" style="color:var(--secondary); margin-bottom:20px;"></i>
        <h2 style="margin-bottom:15px;">Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ 24 Ø³Ø§Ø¹Ø©</h2>
        <h1 style="color:var(--primary); font-size:3.5rem; margin:10px 0; font-family:arial;">01144846412</h1>
        <p style="font-size:1.3rem; color:#aaa; margin-top:20px;">Ø§Ù„Ø±ÙˆØ¨ÙŠ Ù„Ù„Ø­ÙˆÙ… ÙˆØ§Ù„Ù…ØµÙ†Ø¹Ø§Øª | Ø£Ø¬ÙˆØ¯ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù„Ø­ÙˆÙ… Ø§Ù„Ø¨Ù„Ø¯ÙŠ</p>
    </div>

    <!-- Modals -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span onclick="closeModal('cartModal')" style="float:left; cursor:pointer; font-size:2rem; color:red;">&times;</span>
            <h3 style="color:var(--text-dark); margin-bottom:25px; border-bottom:2px solid var(--primary); padding-bottom:10px;">Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
            <div id="cartItems" style="max-height:250px; overflow-y:auto; margin-bottom:20px;"></div>
            <h4 style="margin-bottom:20px; font-size:1.5rem;">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cartTotal" style="color:var(--primary);">0</span> Ø¬Ù†ÙŠÙ‡</h4>
            <form onsubmit="checkout(event)">
                <input type="text" id="cName" placeholder="Ø§Ù„Ø§Ø³Ù…" class="form-control" style="margin-bottom:15px;" required>
                <input type="tel" id="cPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„" class="form-control" style="margin-bottom:15px;" required>
                <input type="text" id="cAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„" class="form-control" style="margin-bottom:20px;" required>
                <button class="btn" style="background:#25D366; font-size:1.2rem;">Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨ <i class="fab fa-whatsapp"></i></button>
            </form>
        </div>
    </div>

    <div id="loginModal" class="modal">
        <div class="modal-content" style="text-align:center; width:450px;">
            <span onclick="closeModal('loginModal')" style="float:left; cursor:pointer; font-size:2rem;">&times;</span>
            <h3 style="margin-bottom:30px; color:var(--text-dark);">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</h3>
            <input type="email" id="adminEmail" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" class="form-control" style="margin-bottom:20px;">
            <input type="password" id="adminPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" class="form-control" style="margin-bottom:30px;">
            <button onclick="login()" class="btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <script>
        // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase ---
        const firebaseConfig = {
            apiKey: "AIzaSyDjJz5tzoxSwJWI8s2d9F36goIwnoyo7GQ",
            authDomain: "el-roby.firebaseapp.com",
            databaseURL: "https://el-roby-default-rtdb.firebaseio.com",
            projectId: "el-roby",
            storageBucket: "el-roby.firebasestorage.app",
            messagingSenderId: "689484848592",
            appId: "1:689484848592:web:02cf22a69d8c4e0e926dd5",
            measurementId: "G-5XFLF3SYSD"
        };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const auth = firebase.auth();

        // --- Ù…ØµÙÙˆÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª (ÙØ§Ø±ØºØ© ÙƒÙ…Ø§ Ø·Ù„Ø¨Øª) ---
        let initialProducts = [];

        let products = [...initialProducts];
        let cart = [];
        let currentFilter = 'all';
        let editingId = null;
        let orders = [];

        // --- Slider Logic ---
        let slideIndex = 0;
        const slides = document.querySelectorAll('.slide');
        setInterval(() => {
            slides[slideIndex].classList.remove('active');
            slideIndex = (slideIndex + 1) % slides.length;
            slides[slideIndex].classList.add('active');
        }, 5000);

        // --- ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© ---
        document.addEventListener("DOMContentLoaded", () => {
            renderFilters();
            renderProducts();

            db.ref('products').on('value', snap => {
                if (snap.val()) products = Object.values(snap.val());
                else products = []; // ÙÙŠ Ø­Ø§Ù„Ø© Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯

                renderFilters();
                renderProducts();
                if (auth.currentUser) renderAdminTable();
            });

            auth.onAuthStateChanged(user => {
                if (user) {
                    document.getElementById('adminPanel').style.display = 'block';
                    closeModal('loginModal');
                    renderAdminTable();
                    db.ref('orders').on('value', s => orders = s.val() ? Object.values(s.val()) : []);
                } else {
                    document.getElementById('adminPanel').style.display = 'none';
                }
            });
        });

        // --- Frontend ---
        function renderFilters() {
            const cats = ['all', ...new Set(products.map(p => p.cat))];
            const div = document.getElementById('filtersContainer');
            if (products.length === 0) {
                div.innerHTML = '<p style="color:white; font-weight:bold;">Ø¬Ø§Ø±ÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...</p>';
                return;
            }
            div.innerHTML = cats.map(c =>
                `<button class="filter-btn ${currentFilter === c ? 'active' : ''}" 
                  onclick="currentFilter='${c}'; renderFilters(); renderProducts()">${c === 'all' ? 'Ø§Ù„ÙƒÙ„' : c}</button>`
            ).join('');
        }

        function renderProducts() {
            const div = document.getElementById('productsContainer');
            div.innerHTML = '';

            if (products.length === 0) {
                // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ© ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù†ØªØ¬Ø§Øª
                div.innerHTML = '<div style="grid-column: 1/-1; text-align:center; color:white; font-size:1.5rem; background:rgba(0,0,0,0.5); padding:20px; border-radius:15px;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹. Ø§Ù†ØªØ¸Ø±ÙˆÙ†Ø§ Ù‚Ø±ÙŠØ¨Ø§Ù‹!</div>';
                return;
            }

            products.forEach(p => {
                if (currentFilter !== 'all' && p.cat !== currentFilter) return;
                if (p.visible === "false" && !auth.currentUser) return;

                let btnHtml = '';
                if (p.stock === "false") {
                    btnHtml = `<button class="btn" disabled>Ù†ÙØ°Øª Ø§Ù„ÙƒÙ…ÙŠØ© âŒ</button>`;
                } else {
                    btnHtml = `<button class="btn" onclick="addToCart(${p.id})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø© <i class="fas fa-cart-plus"></i></button>`;
                }

                div.innerHTML += `
                <div class="card" style="${p.visible === 'false' ? 'opacity:0.6; border:2px dashed red;' : ''}">
                    ${p.offer === "true" ? '<span class="offer-tag">Ø¹Ø±Ø¶ Ù…Ù…ÙŠØ² ğŸ”¥</span>' : ''}
                    ${p.visible === "false" ? '<span style="position:absolute; top:10px; right:10px; background:red; color:white; padding:3px 8px; border-radius:5px; z-index:5;">Ù…Ø®ÙÙŠ</span>' : ''}
                    <div class="img-wrapper"><img src="${p.img}" class="card-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3143/3143643.png'"></div>
                    <div class="card-body">
                        <div class="card-title">${p.name}</div>
                        <div class="card-desc">${p.desc || 'Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù„Ø­ÙˆÙ… Ø§Ù„Ø¨Ù„Ø¯ÙŠ'}</div>
                        <div class="card-price">${p.price} Ø¬.Ù…</div>
                        ${btnHtml}
                    </div>
                </div>`;
            });
        }

        // --- Backend/Admin ---
        function handleProductSubmit(e) {
            e.preventDefault();
            const newP = {
                id: editingId || Date.now(),
                name: document.getElementById('pName').value,
                price: Number(document.getElementById('pPrice').value),
                cat: document.getElementById('pCat').value,
                img: document.getElementById('pImg').value,
                desc: document.getElementById('pDesc').value,
                offer: document.getElementById('pOffer').value,
                stock: document.getElementById('pStock').value,
                visible: document.getElementById('pVisible').value
            };

            db.ref('products/' + newP.id).set(newP).then(() => {
                alert('ØªÙ… Ø§Ù„Ø­ÙØ¸');
                resetForm();
            });
        }

        function renderAdminTable() {
            const tb = document.getElementById('adminTableBody');
            tb.innerHTML = '';
            products.forEach(p => {
                tb.innerHTML += `
                <tr>
                    <td><img src="${p.img}" width="50" style="border-radius:5px"></td>
                    <td>${p.name}</td>
                    <td>${p.price}</td>
                    <td>${p.cat}</td>
                    <td>${p.visible === "true" ? '<span style="color:green">Ù…Ø±Ø¦ÙŠ</span>' : '<span style="color:red">Ù…Ø®ÙÙŠ</span>'}</td>
                    <td>${p.stock === "true" ? '<span style="color:green">Ù…ØªØ§Ø­</span>' : '<span style="color:red">ØºÙŠØ± Ù…ØªØ§Ø­</span>'}</td>
                    <td>
                        <button onclick="editProduct(${p.id})" style="color:#2980b9; background:none; border:none; cursor:pointer; font-size:1.2rem; margin-left:10px;"><i class="fas fa-edit"></i></button>
                        <button onclick="deleteProduct(${p.id})" style="color:#c0392b; background:none; border:none; cursor:pointer; font-size:1.2rem;"><i class="fas fa-trash"></i></button>
                    </td>
                </tr>`;
            });
        }

        function editProduct(id) {
            const p = products.find(x => x.id == id);
            document.getElementById('pId').value = p.id;
            document.getElementById('pName').value = p.name;
            document.getElementById('pPrice').value = p.price;
            document.getElementById('pCat').value = p.cat;
            document.getElementById('pImg').value = p.img;
            document.getElementById('pDesc').value = p.desc || '';
            document.getElementById('pOffer').value = p.offer;
            document.getElementById('pStock').value = p.stock;
            document.getElementById('pVisible').value = p.visible;

            editingId = p.id;
            document.getElementById('saveBtn').innerText = "ØªØ­Ø¯ÙŠØ«";
            document.getElementById('cancelBtn').style.display = "inline-block";
            document.getElementById('productForm').scrollIntoView({
                behavior: 'smooth'
            });
        }

        function deleteProduct(id) {
            if (confirm('Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) db.ref('products/' + id).remove();
        }

        function resetForm() {
            document.getElementById('productForm').reset();
            editingId = null;
            document.getElementById('saveBtn').innerText = "Ø­ÙØ¸";
            document.getElementById('cancelBtn').style.display = "none";
        }

        // --- Cart ---
        function addToCart(id) {
            const p = products.find(x => x.id == id);
            const ex = cart.find(x => x.id == id);
            if (ex) ex.qty++;
            else cart.push({...p,
                qty: 1
            });
            updateCart();
            openModal('cartModal');
        }

        function updateCart() {
            document.getElementById('cartCount').innerText = cart.reduce((a, b) => a + b.qty, 0);
            const div = document.getElementById('cartItems');
            div.innerHTML = '';
            let total = 0;
            cart.forEach((c, i) => {
                total += c.price * c.qty;
                div.innerHTML += `<div style="display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom:1px solid #eee;">
                    <div>${c.name} <small>(x${c.qty})</small></div>
                    <div style="font-weight:bold">${c.price * c.qty} <i class="fas fa-times-circle" style="color:red; cursor:pointer; margin-right:5px;" onclick="cart.splice(${i},1); updateCart()"></i></div>
                </div>`;
            });
            document.getElementById('cartTotal').innerText = total;
        }

        function checkout(e) {
            e.preventDefault();
            if (!cart.length) return alert('Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©');
            const n = document.getElementById('cName').value;
            const p = document.getElementById('cPhone').value;
            const a = document.getElementById('cAddress').value;
            const total = document.getElementById('cartTotal').innerText;
            const order = {
                id: Date.now(),
                name: n,
                phone: p,
                address: a,
                total,
                items: cart,
                date: new Date().toLocaleString()
            };

            db.ref('orders/' + order.id).set(order);
            let msg = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Ø§Ù„Ø±ÙˆØ¨ÙŠ)* ğŸ¥©\nğŸ‘¤ ${n}\nğŸ“± ${p}\nğŸ“ ${a}\n\n`;
            cart.forEach(c => msg += `â–«ï¸ ${c.name} (${c.qty})\n`);
            msg += `\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬.Ù…`;

            window.open(`https://wa.me/201144846412?text=${encodeURIComponent(msg)}`);
            cart = [];
            updateCart();
            closeModal('cartModal');
        }

        function openModal(id) {
            document.getElementById(id).style.display = 'flex';
        }

        function closeModal(id) {
            document.getElementById(id).style.display = 'none';
        }

        function login() {
            auth.signInWithEmailAndPassword(document.getElementById('adminEmail').value, document.getElementById('adminPass').value);
        }

        function logout() {
            auth.signOut();
        }

        function exportToExcel() {
            if (!orders.length) return alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¨ÙŠØ¹Ø§Øª");
            const data = orders.map(o => ({
                Date: o.date,
                Name: o.name,
                Phone: o.phone,
                Total: o.total,
                Items: o.items.map(i => `${i.name}(${i.qty})`).join(' | ')
            }));
            const ws = XLSX.utils.json_to_sheet(data);
            const wb = XLSX.utils.book_new();
            XLSX.utils.book_append_sheet(wb, ws, "Sales");
            XLSX.writeFile(wb, "ElRouby_Sales.xlsx");
        }
    </script>
</body>

</html>

